<!DOCTYPE html>

{% extends 'food/base.html' %}
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'css/basic/basic.css' %}">

{% block title_block %}
    {% if restaurant %}
        {{ restaurant.name }}
    {% else %}
        Unknown Category
    {% endif %}
{% endblock %}

{% block body_block %}
    {% if restaurant %}
        <h1>{{ restaurant.name }}</h1>
		<center>
		<h3> Restaurant rating: {{restaurant.rating}}</h3>
		<h3> Restaurant price: {{restaurant.price}}</h3>
		<img class="sizing" src="{{restaurant.picture}}" height="500" width="750"/>
        {% if comments %}
            <ul>
				<table class = "paleBlueRows">
				
					<thead>
						<tr>
							<th>Username</th>
							<th>Rating</th>
							<th>Price Rating</th>
							<th>Comment</th>
							<th>Date</th>
						</tr>
					</thead>
					<tbody>
						{% for comment in comments %}
							<tr>
								<td>{{comment.user.username}}</td>
								<td>{{comment.rating}}</td>
								<td>{{comment.price}}</td>
								<td>{{comment.comment}}</td>
								<td>{{comment.date_time}}</td>
							</tr>
						{% endfor %} 
					</tbody>
				</table> 
			<br>
            </ul>
		<h3> Find us here! </h3>
		</center>
	<u2>
	<div id="googleMap" style="width:100%;height:400px;"></div>

<script>
function myMap() {
var myLatLng = {lat: {{restaurant.lat}}, lng: {{restaurant.lng}}};
var mapProp= {
  center:myLatLng,
  zoom:10,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
var marker = new google.maps.Marker({
          position: myLatLng,
	  map: map,
          title: "{{restaurant.name}}",
        });
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmUGPJiebANVL4RREtEf85KvCiYHE6GlU&callback=myMap"></script>
	</u2>


        {% else %}
            <strong>No comments currently in restaurant.</strong>
        {% endif %}
        {% if user.is_authenticated %}
            
	<br>
            <a href="{% url 'food:add_comment' restaurant.slug %}">Add Comment</a> <br />

        {% endif %}
    {% else %}
        The specified restaurant does not exist.
    {% endif %}
 {% endblock %}